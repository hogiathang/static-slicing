fs.readlink(file, function (err, rfile) {
                if (emitter._stopped) return;
                if (err) {
                    if (!err.path) err.path = file;
                    emitter.emit('error', err);
                    return check();
                }
                var file_ = path.resolve(path.dirname(file), rfile);
                
                emitter.emit('readlink', file, file_);
                emitter._pending ++;
                fs.lstat(file_, function (err, stat_) {
                    emitter._pending --;
                    if (emitter._stopped) return;
                    if (err) {
                        if (!err.path) err.path = file_;
                        emitter.emit('error', err);
                        return check();
                    }
                    
                    onstat(file_, stat_, file);
                    check();
                });
            })
emitter._stopped
var file_ = path.resolve(path.dirname(file), rfile)
emitter.emit('readlink', file, file_)
