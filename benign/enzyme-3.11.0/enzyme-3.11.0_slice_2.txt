function makeOptions = function makeOptions(options) {
  const { attachTo: configAttachTo, hydrateIn: configHydrateIn, ...config } = get();
  validateMountOptions(configAttachTo, configHydrateIn);

  const { attachTo, hydrateIn } = options;
  validateMountOptions(attachTo, hydrateIn);

  // neither present: both undefined
  // only attachTo present: attachTo set, hydrateIn undefined
  // only hydrateIn present: both set to hydrateIn
  // both present (and ===, per above): both set to hydrateIn
  const finalAttachTo = hydrateIn || configHydrateIn || configAttachTo || attachTo || undefined;
  const finalHydrateIn = hydrateIn || configHydrateIn || undefined;
  const mountTargets = {
    ...(finalAttachTo && { attachTo: finalAttachTo }),
    ...(finalHydrateIn && { hydrateIn: finalHydrateIn }),
  };

  return {
    ...config,
    ...options,
    ...mountTargets,
  };
}
