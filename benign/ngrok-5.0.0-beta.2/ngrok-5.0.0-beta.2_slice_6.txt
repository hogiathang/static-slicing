function download = function download(cb) {
    console.error("ngrok - downloading binary " + cdnUrl);

    const certificateAuthority = tryToReadCaFile();

    const gotOptions = { https: { certificateAuthority } };

    if (process.env.HTTPS_PROXY) {
      try {
        const { HttpsProxyAgent } = require("hpagent");
        gotOptions.agent = {
          https: new HttpsProxyAgent({ proxy: process.env.HTTPS_PROXY }),
        };
      } catch (error) {
        throw new Error(
          "You have the HTTPS_PROXY environment variable set, but you are missing the optional dependency hpagent. Please install hpagent as a dependency and try again."
        );
      }
    }

    const downloadStream = got.stream(cdnUrl, gotOptions);
    process.stderr.write("ngrok - downloading progress: ");
    downloadStream
      .on("response", (res) => {
        if (!/2\d\d/.test(res.statusCode)) {
          res.pause();
          return downloadStream.emit(
            "error",
            new Error("wrong status cod...
console.error("ngrok - downloading binary " + cdnUrl)
const certificateAuthority = tryToReadCaFile()
const gotOptions = { https: { certificateAuthority } }
process.env.HTTPS_PROXY
HttpsProxyAgent = _tmp_5.HttpsProxyAgent
gotOptions.agent = {
          https: new HttpsProxyAgent({ proxy: process.env.HTTPS_PROXY }),
        }
_tmp_6.https = new HttpsProxyAgent({ proxy: process.env.HTTPS_PROXY })
throw new Error(
          "You have the HTTPS_PROXY environment variable set, but you are missing the optional dependency hpagent. Please install hpagent as a dependency and try again."
        );
"You have the HTTPS_PROXY environment variable set, but you are missing the optional dependency hpagent. Please install hpagent as a dependency and try again."
const downloadStream = got.stream(cdnUrl, gotOptions)
process.stderr.write("ngrok - downloading progress: ")
downloadStream
      .on("response", (res) => {
        if (!/2\d\d/.test(res.statusCode)) {
          res.pause();
          return downloadStream.emit(
            "error",
            new Error("wrong status code: " + res.statusCode)
          );
        }
      })
      .on("downloadProgress", ({ percent, transferred, total }) => {
        readline.clearLine(process.stderr, 0, () => {
          readline.cursorTo(process.stderr, 0, null, () => {
            process.stderr.write(
              `ngrok - downloading progress: ${transferred}/${total} (${(
                percent * 100
              ).toFixed(2)}%)`
            );
          });
        });
      })
      .on("error", (error) => {
        console.error("\nngrok - error downloading from URL", error);
        cb(error);
      })
<lambda>0
transferred = param1_0.transferred
<lambda>4
const outputStream = fs
      .createWriteStream(cacheUrl)
      .on("error", (e) => {
        console.error("ngrok - error storing binary to local file", e);
        cb(e);
      })
      .on("finish", () => {
        console.error("\nngrok - binary downloaded to " + cacheUrl);
        extract(cb);
      })
createWriteStream
