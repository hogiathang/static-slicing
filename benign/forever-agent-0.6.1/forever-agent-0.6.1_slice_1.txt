ForeverAgent.prototype.removeSocket = function(s, name, host, port) {
  if (this.sockets[name]) {
    var index = this.sockets[name].indexOf(s)
    if (index !== -1) {
      this.sockets[name].splice(index, 1)
    }
  } else if (this.sockets[name] && this.sockets[name].length === 0) {
    // don't leak
    delete this.sockets[name]
    delete this.requests[name]
  }
  
  if (this.freeSockets[name]) {
    var index = this.freeSockets[name].indexOf(s)
    if (index !== -1) {
      this.freeSockets[name].splice(index, 1)
      if (this.freeSockets[name].length === 0) {
        delete this.freeSockets[name]
      }
    }
  }

  if (this.requests[name] && this.requests[name].length) {
    // If we have pending requests and a socket gets closed a new one
    // needs to be created to take over in the pool for the one that closed.
    this.createSocket(name, host, port).emit('free')
  }
}
this.sockets[name]
var index = this.sockets[name].indexOf(s)
index !== -1
(_tmp_10 = this.sockets[name]).splice
this.sockets[name] && this.sockets[name].length === 0
delete this.sockets[name]
delete this.requests[name]
this.freeSockets[name]
var index = this.freeSockets[name].indexOf(s)
index !== -1
(_tmp_12 = this.freeSockets[name]).splice
this.freeSockets[name].length === 0
delete this.freeSockets[name]
this.requests[name] && this.requests[name].length
(_tmp_13 = this.createSocket(name, host, port)).emit
