Backbone.sync = function(method, model, options) {
    var type = methodMap[method];

    // Default options, unless specified.
    _.defaults(options || (options = {}), {
      emulateHTTP: Backbone.emulateHTTP,
      emulateJSON: Backbone.emulateJSON
    });

    // Default JSON-request options.
    var params = {type: type, dataType: 'json'};

    // Ensure that we have a URL.
    if (!options.url) {
      params.url = _.result(model, 'url') || urlError();
    }

    // Ensure that we have the appropriate request data.
    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {
      params.contentType = 'application/json';
      params.data = JSON.stringify(options.attrs || model.toJSON(options));
    }

    // For older servers, emulate JSON by encoding the request into an HTML-form.
    if (options.emulateJSON) {
      params.contentType = 'application/x-www-form-urlencoded';
      params.data = params.data ? {model: params.da...
var type = methodMap[method]
_.defaults(options || (options = {}), {
      emulateHTTP: Backbone.emulateHTTP,
      emulateJSON: Backbone.emulateJSON
    })
_tmp_117.emulateHTTP = Backbone.emulateHTTP
_tmp_117.emulateJSON = Backbone.emulateJSON
var params = {type: type, dataType: 'json'}
!options.url
params.url = _.result(model, 'url') || urlError()
options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')
params.contentType = 'application/json'
params.data = JSON.stringify(options.attrs || model.toJSON(options))
