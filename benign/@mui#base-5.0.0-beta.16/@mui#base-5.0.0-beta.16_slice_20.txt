function useAutocomplete = function useAutocomplete(props) {
  var _props$unstable_isAct = props.unstable_isActiveElementInListbox,
    unstable_isActiveElementInListbox = _props$unstable_isAct === void 0 ? defaultIsActiveElementInListbox : _props$unstable_isAct,
    _props$unstable_class = props.unstable_classNamePrefix,
    unstable_classNamePrefix = _props$unstable_class === void 0 ? 'Mui' : _props$unstable_class,
    _props$autoComplete = props.autoComplete,
    autoComplete = _props$autoComplete === void 0 ? false : _props$autoComplete,
    _props$autoHighlight = props.autoHighlight,
    autoHighlight = _props$autoHighlight === void 0 ? false : _props$autoHighlight,
    _props$autoSelect = props.autoSelect,
    autoSelect = _props$autoSelect === void 0 ? false : _props$autoSelect,
    _props$blurOnSelect = props.blurOnSelect,
    blurOnSelect = _props$blurOnSelect === void 0 ? false : _props$blurOnSelect,
    _props$clearOnBlur = props.clearOnBlur,
    clearOnBlur = _props$clearOnBlur === void 0 ? !props...
var _props$unstable_isAct = props.unstable_isActiveElementInListbox
var unstable_isActiveElementInListbox = _props$unstable_isAct === void 0 ? defaultIsActiveElementInListbox : _props$unstable_isAct
var _props$unstable_class = props.unstable_classNamePrefix
var unstable_classNamePrefix = _props$unstable_class === void 0 ? 'Mui' : _props$unstable_class
var _props$autoComplete = props.autoComplete
var autoComplete = _props$autoComplete === void 0 ? false : _props$autoComplete
var _props$autoHighlight = props.autoHighlight
var autoHighlight = _props$autoHighlight === void 0 ? false : _props$autoHighlight
var _props$autoSelect = props.autoSelect
var autoSelect = _props$autoSelect === void 0 ? false : _props$autoSelect
var _props$blurOnSelect = props.blurOnSelect
var blurOnSelect = _props$blurOnSelect === void 0 ? false : _props$blurOnSelect
var _props$clearOnBlur = props.clearOnBlur
var clearOnBlur = _props$clearOnBlur === void 0 ? !props.freeSolo : _props$clearOnBlur
var _props$clearOnEscape = props.clearOnEscape
var clearOnEscape = _props$clearOnEscape === void 0 ? false : _props$clearOnEscape
var _props$componentName = props.componentName
var componentName = _props$componentName === void 0 ? 'useAutocomplete' : _props$componentName
var _props$defaultValue = props.defaultValue
_props$defaultValue === void 0 ? props.multiple ? __ecma.Array.factory() : null : _props$defaultValue
var _props$disableClearab = props.disableClearable
var disableClearable = _props$disableClearab === void 0 ? false : _props$disableClearab
var _props$disableCloseOn = props.disableCloseOnSelect
var disableCloseOnSelect = _props$disableCloseOn === void 0 ? false : _props$disableCloseOn
var disabledProp = props.disabled
var _props$disabledItemsF = props.disabledItemsFocusable
var disabledItemsFocusable = _props$disabledItemsF === void 0 ? false : _props$disabledItemsF
var _props$disableListWra = props.disableListWrap
var disableListWrap = _props$disableListWra === void 0 ? false : _props$disableListWra
var _props$filterOptions = props.filterOptions
var filterOptions = _props$filterOptions === void 0 ? defaultFilterOptions : _props$filterOptions
var _props$filterSelected = props.filterSelectedOptions
var filterSelectedOptions = _props$filterSelected === void 0 ? false : _props$filterSelected
var _props$freeSolo = props.freeSolo
var freeSolo = _props$freeSolo === void 0 ? false : _props$freeSolo
var getOptionDisabled = props.getOptionDisabled
var _props$getOptionLabel = props.getOptionLabel
var getOptionLabelProp = _props$getOptionLabel === void 0 ? function (option) {
      var _option$label;
      return (_option$label = option.label) != null ? _option$label : option;
    } : _props$getOptionLabel
var groupBy = props.groupBy
var _props$handleHomeEndK = props.handleHomeEndKeys
var handleHomeEndKeys = _props$handleHomeEndK === void 0 ? !props.freeSolo : _props$handleHomeEndK
var idProp = props.id
var _props$includeInputIn = props.includeInputInList
var includeInputInList = _props$includeInputIn === void 0 ? false : _props$includeInputIn
var inputValueProp = props.inputValue
var _props$isOptionEqualT = props.isOptionEqualToValue
var isOptionEqualToValue = _props$isOptionEqualT === void 0 ? function (option, value) {
      return option === value;
    } : _props$isOptionEqualT
var _props$multiple = props.multiple
var multiple = _props$multiple === void 0 ? false : _props$multiple
var onChange = props.onChange
var onClose = props.onClose
var onHighlightChange = props.onHighlightChange
var onInputChange = props.onInputChange
var onOpen = props.onOpen
var openProp = props.open
var _props$openOnFocus = props.openOnFocus
var openOnFocus = _props$openOnFocus === void 0 ? false : _props$openOnFocus
var options = props.options
var _props$readOnly = props.readOnly
var readOnly = _props$readOnly === void 0 ? false : _props$readOnly
var _props$selectOnFocus = props.selectOnFocus
var selectOnFocus = _props$selectOnFocus === void 0 ? !props.freeSolo : _props$selectOnFocus
var valueProp = props.value
var id = useId(idProp)
var getOptionLabel = getOptionLabelProp
getOptionLabel = function getOptionLabel(option) {
    var optionLabel = getOptionLabelProp(option);
    if (typeof optionLabel !== 'string') {
      if (process.env.NODE_ENV !== 'production') {
        var erroneousReturn = optionLabel === undefined ? 'undefined' : "".concat(_typeof(optionLabel), " (").concat(optionLabel, ")");
        console.error("MUI: The `getOptionLabel` method of ".concat(componentName, " returned ").concat(erroneousReturn, " instead of a string for ").concat(JSON.stringify(option), "."));
      }
      return String(optionLabel);
    }
    return optionLabel;
  }
var ignoreFocus = React.useRef(false)
var firstFocus = React.useRef(true)
var inputRef = React.useRef(null)
var listboxRef = React.useRef(null)
var _React$useState = React.useState(null)
var anchorEl = _React$useState[0]
var setAnchorEl = _React$useState[1]
var _React$useState2 = React.useState(-1)
var focusedTag = _React$useState2[0]
var setFocusedTag = _React$useState2[1]
var defaultHighlighted = autoHighlight ? 0 : -1
var highlightedIndexRef = React.useRef(defaultHighlighted)
var _useControlled = useControlled({
      controlled: valueProp,
      default: defaultValue,
      name: componentName
    })
_tmp_10.controlled = valueProp
_tmp_10.default = defaultValue
_tmp_10.name = componentName
var _useControlled2 = _slicedToArray(_useControlled, 2)
var value = _useControlled2[0]
var setValueState = _useControlled2[1]
var _useControlled3 = useControlled({
      controlled: inputValueProp,
      default: '',
      name: componentName,
      state: 'inputValue'
    })
_tmp_11.controlled = inputValueProp
_tmp_11.default = ""
_tmp_11.name = componentName
_tmp_11.state = "inputValue"
var _useControlled4 = _slicedToArray(_useControlled3, 2)
var inputValue = _useControlled4[0]
var setInputValueState = _useControlled4[1]
var _React$useState3 = React.useState(false)
var focused = _React$useState3[0]
var setFocused = _React$useState3[1]
var resetInputValue = React.useCallback(function (event, newValue) {
    // retain current `inputValue` if new option isn't selected and `clearOnBlur` is false
    // When `multiple` is enabled, `newValue` is an array of all selected items including the newly selected item
    var isOptionSelected = multiple ? value.length < newValue.length : newValue !== null;
    if (!isOptionSelected && !clearOnBlur) {
      return;
    }
    var newInputValue;
    if (multiple) {
      newInputValue = '';
    } else if (newValue == null) {
      newInputValue = '';
    } else {
      var optionLabel = getOptionLabel(newValue);
      newInputValue = typeof optionLabel === 'string' ? optionLabel : '';
    }
    if (inputValue === newInputValue) {
      return;
    }
    setInputValueState(newInputValue);
    if (onInputChange) {
      onInputChange(event, newInputValue, 'reset');
    }
  }, [getOptionLabel, inputValue, multiple, onInputChange, setInputValueState, clearOnBlur, value])
_tmp_12 = __ecma.Array.factory()
var _useControlled5 = useControlled({
      controlled: openProp,
      default: false,
      name: componentName,
      state: 'open'
    })
_tmp_13.controlled = openProp
_tmp_13.default = false
_tmp_13.name = componentName
_tmp_13.state = "open"
var _useControlled6 = _slicedToArray(_useControlled5, 2)
var open = _useControlled6[0]
var setOpenState = _useControlled6[1]
var _React$useState4 = React.useState(true)
var inputPristine = _React$useState4[0]
var setInputPristine = _React$useState4[1]
var inputValueIsSelectedValue = !multiple && value != null && inputValue === getOptionLabel(value)
var popupOpen = open && !readOnly
var filteredOptions = popupOpen ? filterOptions(options.filter(function (option) {
    if (filterSelectedOptions && (multiple ? value : [value]).some(function (value2) {
      return value2 !== null && isOptionEqualToValue(option, value2);
    })) {
      return false;
    }
    return true;
  }),
  // we use the empty string to manipulate `filterOptions` to not filter any options
  // i.e. the filter predicate always returns true
  {
    inputValue: inputValueIsSelectedValue && inputPristine ? '' : inputValue,
    getOptionLabel: getOptionLabel
  }) : []
_tmp_16.inputValue = inputValueIsSelectedValue && inputPristine ? "" : inputValue
_tmp_16.getOptionLabel = getOptionLabel
__ecma.Array.factory()
var previousProps = usePreviousProps({
    filteredOptions: filteredOptions,
    value: value,
    inputValue: inputValue
  })
_tmp_17.filteredOptions = filteredOptions
_tmp_17.value = value
_tmp_17.inputValue = inputValue
React.useEffect(function () {
    var valueChange = value !== previousProps.value;
    if (focused && !valueChange) {
      return;
    }

    // Only reset the input's value when freeSolo if the component's value changes.
    if (freeSolo && !valueChange) {
      return;
    }
    resetInputValue(null, value);
  }, [value, resetInputValue, focused, previousProps.value, freeSolo])
_tmp_18.push(previousProps.value)
var listboxAvailable = open && filteredOptions.length > 0 && !readOnly
process.env.NODE_ENV !== 'production'
value !== null && !freeSolo && options.length > 0
var missingValue = (multiple ? value : [value]).filter(function (value2) {
        return !options.some(function (option) {
          return isOptionEqualToValue(option, value2);
        });
      })
missingValue.length > 0
console.warn(["MUI: The value provided to ".concat(componentName, " is invalid."), "None of the options match with `".concat(missingValue.length > 1 ? JSON.stringify(missingValue) : JSON.stringify(missingValue[0]), "`."), 'You can use the `isOptionEqualToValue` prop to customize the equality test.'].join('\n'))
function validOptionIndex = function validOptionIndex(index, direction) {
    if (!listboxRef.current || index === -1) {
      return -1;
    }
    var nextFocus = index;
    while (true) {
      // Out of range
      if (direction === 'next' && nextFocus === filteredOptions.length || direction === 'previous' && nextFocus === -1) {
        return -1;
      }
      var option = listboxRef.current.querySelector("[data-option-index=\"".concat(nextFocus, "\"]"));

      // Same logic as MenuList.js
      var nextFocusDisabled = disabledItemsFocusable ? false : !option || option.disabled || option.getAttribute('aria-disabled') === 'true';
      if (option && !option.hasAttribute('tabindex') || nextFocusDisabled) {
        // Move to the next element.
        nextFocus += direction === 'next' ? 1 : -1;
      } else {
        return nextFocus;
      }
    }
  }
function validTagIndex = function validTagIndex(index, direction) {
    if (index === -1) {
      return -1;
    }
    var nextFocus = index;
    while (true) {
      // Out of range
      if (direction === 'next' && nextFocus === value.length || direction === 'previous' && nextFocus === -1) {
        return -1;
      }
      var option = anchorEl.querySelector("[data-tag-index=\"".concat(nextFocus, "\"]"));

      // Same logic as MenuList.js
      if (!option || !option.hasAttribute('tabindex') || option.disabled || option.getAttribute('aria-disabled') === 'true') {
        nextFocus += direction === 'next' ? 1 : -1;
      } else {
        return nextFocus;
      }
    }
  }
