static async webfinger(input) {
    const resource = webfingerNormalize(input);
    const { host } = url.parse(resource);
    const webfingerUrl = `https://${host}/.well-known/webfinger`;

    const response = await request.call(this, {
      method: 'GET',
      url: webfingerUrl,
      responseType: 'json',
      searchParams: { resource, rel: 'http://openid.net/specs/connect/1.0/issuer' },
      headers: {
        Accept: 'application/json',
      },
    });
    const body = processResponse(response);

    const location =
      Array.isArray(body.links) &&
      body.links.find(
        (link) =>
          typeof link === 'object' &&
          link.rel === 'http://openid.net/specs/connect/1.0/issuer' &&
          link.href,
      );

    if (!location) {
      throw new RPError({
        message: 'no issuer found in webfinger response',
        body,
      });
    }

    if (typeof location.href !== 'string' || !location.href.startsWith('https://')) {
      throw new RPError({
 ...
const resource = webfingerNormalize(input)
_tmp_21 = url.parse(resource)
<operator>.formatString("https://", host, "/.well-known/webfinger")
const response = await request.call(this, {
      method: 'GET',
      url: webfingerUrl,
      responseType: 'json',
      searchParams: { resource, rel: 'http://openid.net/specs/connect/1.0/issuer' },
      headers: {
        Accept: 'application/json',
      },
    })
_tmp_22.method = "GET"
_tmp_22.url = webfingerUrl
_tmp_22.responseType = "json"
_tmp_22.searchParams = { resource, rel: 'http://openid.net/specs/connect/1.0/issuer' }
_tmp_22.headers = {
        Accept: 'application/json',
      }
_tmp_24.Accept = "application/json"
const body = processResponse(response)
const location =
      Array.isArray(body.links) &&
      body.links.find(
        (link) =>
          typeof link === 'object' &&
          link.rel === 'http://openid.net/specs/connect/1.0/issuer' &&
          link.href,
      )
Array.isArray(body.links) &&
      body.links.find(
        (link) =>
          typeof link === 'object' &&
          link.rel === 'http://openid.net/specs/connect/1.0/issuer' &&
          link.href,
      )
body.links.find(
        (link) =>
          typeof link === 'object' &&
          link.rel === 'http://openid.net/specs/connect/1.0/issuer' &&
          link.href,
      )
<lambda>2
!location
throw new RPError({
        message: 'no issuer found in webfinger response',
        body,
      });
_tmp_27.message = "no issuer found in webfinger response"
_tmp_27.body = body
typeof location.href !== 'string' || !location.href.startsWith('https://')
throw new RPError({
        printf: ['invalid issuer location %s', location.href],
        body,
      });
_tmp_30.printf = ['invalid issuer location %s', location.href]
_tmp_30.body = body
const expectedIssuer = location.href
registry.has(expectedIssuer)
registry.get(expectedIssuer)
