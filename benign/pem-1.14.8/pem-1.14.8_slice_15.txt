function createPrivateKey = function createPrivateKey(keyBitsize, options, callback) {
  if (!callback && !options && typeof keyBitsize === 'function') {
    callback = keyBitsize
    keyBitsize = undefined
    options = {}
  } else if (!callback && keyBitsize && typeof options === 'function') {
    callback = options
    options = {}
  }

  keyBitsize = Number(keyBitsize) || 2048

  var params = ['genrsa']

  if (openssl.get('Vendor') === 'OPENSSL' && openssl.get('VendorVersionMajor') >= 3) {
    params.push('-traditional')
  }

  var delTempPWFiles = []

  if (options && options.cipher && (Number(helper.ciphers.indexOf(options.cipher)) !== -1) && options.password) {
    debug('helper.createPasswordFile', {
      cipher: options.cipher,
      password: options.password,
      passType: 'out'
    })
    helper.createPasswordFile({
      cipher: options.cipher,
      password: options.password,
      passType: 'out'
    }, params, delTempPWFiles)
  }

  params.push(keyBitsize)

  debug('version', openssl.get('o...
!callback && !options && typeof keyBitsize === 'function'
callback = keyBitsize
keyBitsize = undefined
options = {}
!callback && keyBitsize && typeof options === 'function'
callback = options
options = {}
keyBitsize = Number(keyBitsize) || 2048
_tmp_2 = __ecma.Array.factory()
openssl.get('Vendor') === 'OPENSSL' && openssl.get('VendorVersionMajor') >= 3
params.push('-traditional')
var delTempPWFiles = []
options && options.cipher && (Number(helper.ciphers.indexOf(options.cipher)) !== -1) && options.password
debug('helper.createPasswordFile', {
      cipher: options.cipher,
      password: options.password,
      passType: 'out'
    })
_tmp_4.cipher = options.cipher
_tmp_4.password = options.password
_tmp_4.passType = "out"
helper.createPasswordFile({
      cipher: options.cipher,
      password: options.password,
      passType: 'out'
    }, params, delTempPWFiles)
_tmp_5.cipher = options.cipher
_tmp_5.password = options.password
_tmp_5.passType = "out"
params.push(keyBitsize)
debug('version', openssl.get('openSslVersion'))
openssl.exec(params, '(RSA |ENCRYPTED |)PRIVATE KEY', function (sslErr, key) {
    function done(err) {
      if (err) {
        return callback(err)
      }
      return callback(null, {
        key: key
      })
    }

    helper.deleteTempFiles(delTempPWFiles, function (fsErr) {
      debug('createPrivateKey', {
        sslErr: sslErr,
        fsErr: fsErr,
        key: key,
        keyLength: key && key.length
      })
      done(sslErr || fsErr)
    })
  })
