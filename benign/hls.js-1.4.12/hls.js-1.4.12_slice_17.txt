openAndSendXhr(
    xhr: XMLHttpRequest,
    context: LoaderContext,
    config: LoaderConfiguration
  ) {
    if (!xhr.readyState) {
      xhr.open('GET', context.url, true);
    }

    const headers = this.context.headers;
    const { maxTimeToFirstByteMs, maxLoadTimeMs } = config.loadPolicy;
    if (headers) {
      for (const header in headers) {
        xhr.setRequestHeader(header, headers[header]);
      }
    }

    if (context.rangeEnd) {
      xhr.setRequestHeader(
        'Range',
        'bytes=' + context.rangeStart + '-' + (context.rangeEnd - 1)
      );
    }

    xhr.onreadystatechange = this.readystatechange.bind(this);
    xhr.onprogress = this.loadprogress.bind(this);
    xhr.responseType = context.responseType as XMLHttpRequestResponseType;
    // setup timeout before we perform request
    self.clearTimeout(this.requestTimeout);
    config.timeout =
      maxTimeToFirstByteMs && Number.isFinite(maxTimeToFirstByteMs)
        ? maxTimeToFirstByteMs
        : maxLoa...
!xhr.readyState
xhr.open('GET', context.url, true)
const headers = this.context.headers
maxTimeToFirstByteMs = _tmp_12.maxTimeToFirstByteMs
_iterator_0 = <operator>.iterator(headers)
xhr.setRequestHeader(header, headers[header])
context.rangeEnd
xhr.setRequestHeader(
        'Range',
        'bytes=' + context.rangeStart + '-' + (context.rangeEnd - 1)
      )
"Range"
'bytes=' + context.rangeStart + '-' + (context.rangeEnd - 1)
xhr.onreadystatechange = this.readystatechange.bind(this)
xhr.onprogress = this.loadprogress.bind(this)
xhr.responseType = context.responseType as XMLHttpRequestResponseType
self.clearTimeout(this.requestTimeout)
config.timeout =
      maxTimeToFirstByteMs && Number.isFinite(maxTimeToFirstByteMs)
        ? maxTimeToFirstByteMs
        : maxLoadTimeMs
maxTimeToFirstByteMs && Number.isFinite(maxTimeToFirstByteMs) ? maxTimeToFirstByteMs : maxLoadTimeMs
this.requestTimeout = self.setTimeout(
      this.loadtimeout.bind(this),
      config.timeout
    )
(_tmp_15 = this.loadtimeout).bind
