function loadDocument = async function loadDocument(url, redirects) {
    const isHttp = url.startsWith('http:');
    const isHttps = url.startsWith('https:');
    if(!isHttp && !isHttps) {
      throw new JsonLdError(
        'URL could not be dereferenced; only "http" and "https" URLs are ' +
        'supported.',
        'jsonld.InvalidUrl', {code: 'loading document failed', url});
    }
    if(secure && !isHttps) {
      throw new JsonLdError(
        'URL could not be dereferenced; secure mode is enabled and ' +
        'the URL\'s scheme is not "https".',
        'jsonld.InvalidUrl', {code: 'loading document failed', url});
    }
    // TODO: disable cache until HTTP caching implemented
    let doc = null;//cache.get(url);
    if(doc !== null) {
      return doc;
    }

    let alternate = null;

    const {res, body} = await _fetch({
      url, headers, strictSSL, httpAgent, httpsAgent
    });
    doc = {contextUrl: null, documentUrl: url, document: body || null};

    // handle error
    const stat...
const isHttp = url.startsWith('http:')
const isHttps = url.startsWith('https:')
!isHttp && !isHttps
throw new JsonLdError(
        'URL could not be dereferenced; only "http" and "https" URLs are ' +
        'supported.',
        'jsonld.InvalidUrl', {code: 'loading document failed', url});
'URL could not be dereferenced; only "http" and "https" URLs are ' +
        'supported.'
"supported."
_tmp_16.code = "loading document failed"
secure && !isHttps
throw new JsonLdError(
        'URL could not be dereferenced; secure mode is enabled and ' +
        'the URL\'s scheme is not "https".',
        'jsonld.InvalidUrl', {code: 'loading document failed', url});
'URL could not be dereferenced; secure mode is enabled and ' +
        'the URL\'s scheme is not "https".'
"the URL's scheme is not "https"."
_tmp_18.code = "loading document failed"
let doc = null
doc !== null
let alternate = null
_tmp_20 = await _fetch({
      url, headers, strictSSL, httpAgent, httpsAgent
    })
_tmp_19.httpsAgent = httpsAgent
doc = {contextUrl: null, documentUrl: url, document: body || null}
const statusText = http.STATUS_CODES[res.status]
res.status >= 400
throw new JsonLdError(
        `URL "${url}" could not be dereferenced: ${statusText}`,
        'jsonld.InvalidUrl', {
          code: 'loading document failed',
          url,
          httpStatusCode: res.status
        });
<operator>.formatString("URL "", url, "" could not be dereferenced: ", statusText, "")
"jsonld.InvalidUrl"
_tmp_23.code = "loading document failed"
_tmp_23.url = url
_tmp_23.httpStatusCode = res.status
const link = res.headers.get('link')
let location = res.headers.get('location')
const contentType = res.headers.get('content-type')
