function $num = function $num(byte) {
    num = (num << 8) | byte;
    if (++offset < 4) return $num;
    offset = 0;
    emit({version: version, num: num});
    return $header;
  }
num = (num << 8) | byte
++offset < 4
offset = 0
emit({version: version, num: num})
