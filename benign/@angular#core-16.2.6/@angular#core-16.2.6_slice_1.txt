function compileNgModuleFactory = function compileNgModuleFactory(injector, options, moduleType) {
    ngDevMode && assertNgModuleType(moduleType);
    const moduleFactory = new R3NgModuleFactory(moduleType);
    // All of the logic below is irrelevant for AOT-compiled code.
    if (typeof ngJitMode !== 'undefined' && !ngJitMode) {
        return Promise.resolve(moduleFactory);
    }
    const compilerOptions = injector.get(COMPILER_OPTIONS, []).concat(options);
    // Configure the compiler to use the provided options. This call may fail when multiple modules
    // are bootstrapped with incompatible options, as a component can only be compiled according to
    // a single set of options.
    setJitOptions({
        defaultEncapsulation: _lastDefined(compilerOptions.map(opts => opts.defaultEncapsulation)),
        preserveWhitespaces: _lastDefined(compilerOptions.map(opts => opts.preserveWhitespaces)),
    });
    if (isComponentResourceResolutionQueueEmpty()) {
        return Promise.resolve(moduleFactory);
    }
...
ngDevMode && assertNgModuleType(moduleType)
const moduleFactory = new R3NgModuleFactory(moduleType)
typeof ngJitMode !== 'undefined' && !ngJitMode
const compilerOptions = injector.get(COMPILER_OPTIONS, []).concat(options)
setJitOptions({
        defaultEncapsulation: _lastDefined(compilerOptions.map(opts => opts.defaultEncapsulation)),
        preserveWhitespaces: _lastDefined(compilerOptions.map(opts => opts.preserveWhitespaces)),
    })
_tmp_9.defaultEncapsulation = _lastDefined(compilerOptions.map(opts => opts.defaultEncapsulation))
_tmp_9.preserveWhitespaces = _lastDefined(compilerOptions.map(opts => opts.preserveWhitespaces))
isComponentResourceResolutionQueueEmpty()
const compilerProviders = compilerOptions.flatMap((option) => option.providers ?? [])
compilerProviders.length === 0
const compiler = getCompilerFacade({
        usage: 0 /* JitCompilerUsage.Decorator */,
        kind: 'NgModule',
        type: moduleType,
    })
_tmp_10.usage = 0
_tmp_10.kind = "NgModule"
_tmp_10.type = moduleType
const compilerInjector = Injector.create({ providers: compilerProviders })
const resourceLoader = compilerInjector.get(compiler.ResourceLoader)
