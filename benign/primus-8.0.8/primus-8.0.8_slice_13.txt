primus.on('outgoing::data', function write(message) {
    if (!socket || socket.readyState !== Factory.OPEN) return;

    try { socket.send(message); }
    catch (e) { primus.emit('incoming::error', e); }
  })
!socket || socket.readyState !== Factory.OPEN
socket.send(message)
primus.emit('incoming::error', e)
