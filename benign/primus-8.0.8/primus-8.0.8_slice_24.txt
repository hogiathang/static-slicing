AbstractXHRObject.prototype._start = function(method, url, payload, opts) {
  var self = this;

  try {
    this.xhr = new XHR();
  } catch (x) {
    // intentionally empty
  }

  if (!this.xhr) {
    this.emit('finish', 0, 'no xhr support');
    this._cleanup();
    return;
  }

  // several browsers cache POSTs
  url = urlUtils.addQuery(url, 't=' + (+new Date()));

  // Explorer tends to keep connection open, even after the
  // tab gets closed: http://bugs.jquery.com/ticket/5280
  this.unloadRef = utils.unloadAdd(function() {
    self._cleanup(true);
  });
  try {
    this.xhr.open(method, url, true);
    if (this.timeout && 'timeout' in this.xhr) {
      this.xhr.timeout = this.timeout;
      this.xhr.ontimeout = function() {
        self.emit('finish', 0, '');
        self._cleanup(false);
      };
    }
  } catch (e) {
    // IE raises an exception on wrong port.
    this.emit('finish', 0, '');
    this._cleanup(false);
    return;
  }

  if ((!opts || !opts.noCredentials) && ...
var self = this
this.xhr = new XHR()
!this.xhr
url = urlUtils.addQuery(url, 't=' + (+new Date()))
this.unloadRef = utils.unloadAdd(function() {
    self._cleanup(true);
  })
this.xhr.open(method, url, true)
this.timeout && 'timeout' in this.xhr
this.xhr.timeout = this.timeout
this.xhr.ontimeout = function() {
        self.emit('finish', 0, '');
        self._cleanup(false);
      }
(!opts || !opts.noCredentials) && AbstractXHRObject.supportsCORS
this.xhr.withCredentials = true
opts && opts.headers
_iterator_1 = <operator>.iterator(opts.headers)
this.xhr.setRequestHeader(key, opts.headers[key])
this.xhr.onreadystatechange = function() {
    if (self.xhr) {
      var x = self.xhr;
      var text, status;
      switch (x.readyState) {
      case 3:
        // IE doesn't like peeking into responseText or status
        // on Microsoft.XMLHTTP and readystate=3
        try {
          status = x.status;
          text = x.responseText;
        } catch (e) {
          // intentionally empty
        }
        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450
        if (status === 1223) {
          status = 204;
        }

        // IE does return readystate == 3 for 404 answers.
        if (status === 200 && text && text.length > 0) {
          self.emit('chunk', status, text);
        }
        break;
      case 4:
        status = x.status;
        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450
        if (status === 1223) {
          status = 204;
        }
        // IE returns this for a bad port
        // http://msdn.microsoft.com/en-us/libra...
(_tmp_171 = self.xhr).send
