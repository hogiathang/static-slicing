async destroy(): Promise<void> {
        // Wait until we have connected before trying to disconnect
        if (this.websocket.readyState === WebSocket.CONNECTING) {
            await (new Promise((resolve) => {
                this.websocket.onopen = function() {
                    resolve(true);
                };

                this.websocket.onerror = function() {
                    resolve(false);
                };
            }));
        }

        // Hangup
        // See: https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes
        this.websocket.close(1000);
    }
this.websocket.readyState === WebSocket.CONNECTING
await (new Promise((resolve) => {
                this.websocket.onopen = function() {
                    resolve(true);
                };

                this.websocket.onerror = function() {
                    resolve(false);
                };
            }))
(_tmp_35 = this.websocket).close
