this._pendingBatchAggregator = setTimeout(() => {

                // Get teh current batch and clear it, so new requests
                // go into the next batch
                const batch = this._pendingBatch;
                this._pendingBatch = null;
                this._pendingBatchAggregator = null;

                // Get the request as an array of requests
                const request = batch.map((inflight) => inflight.request);

                this.emit("debug", {
                    action: "requestBatch",
                    request: deepCopy(request),
                    provider: this
                });

                return fetchJson(this.connection, JSON.stringify(request)).then((result) => {
                    this.emit("debug", {
                        action: "response",
                        request: request,
                        response: result,
                        provider: this
                    });

                    // For each result,...
const batch = this._pendingBatch
this._pendingBatch = null
this._pendingBatchAggregator = null
const request = batch.map((inflight) => inflight.request)
this.emit("debug", {
                    action: "requestBatch",
                    request: deepCopy(request),
                    provider: this
                })
_tmp_4.action = "requestBatch"
_tmp_4.request = deepCopy(request)
_tmp_4.provider = this
