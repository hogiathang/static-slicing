function drawRaster = function drawRaster(painter: Painter, sourceCache: SourceCache, layer: RasterStyleLayer, tileIDs: Array<OverscaledTileID>, variableOffsets: any, isInitialLoad: boolean) {
    if (painter.renderPass !== 'translucent') return;
    if (layer.paint.get('raster-opacity') === 0) return;
    if (!tileIDs.length) return;

    const context = painter.context;
    const gl = context.gl;
    const source = sourceCache.getSource();
    const program = painter.useProgram('raster');

    const colorMode = painter.colorModeForRenderPass();

    // When rendering to texture, coordinates are already sorted: primary by
    // proxy id and secondary sort is by Z.
    const renderingToTexture = painter.terrain && painter.terrain.renderingToTexture;

    const [stencilModes, coords] = source instanceof ImageSource || renderingToTexture ? [{}, tileIDs] :
        painter.stencilConfigForOverlap(tileIDs);

    const minTileZ = coords[coords.length - 1].overscaledZ;

    const align = !painter.options.movin...
painter.renderPass !== 'translucent'
layer.paint.get('raster-opacity') === 0
!tileIDs.length
const context = painter.context
const gl = context.gl
const source = sourceCache.getSource()
const program = painter.useProgram('raster')
const colorMode = painter.colorModeForRenderPass()
const renderingToTexture = painter.terrain && painter.terrain.renderingToTexture
_tmp_3 = source instanceof ImageSource || renderingToTexture ? [{}, tileIDs] : painter.stencilConfigForOverlap(tileIDs)
painter.stencilConfigForOverlap(tileIDs)
const minTileZ = coords[coords.length - 1].overscaledZ
const align = !painter.options.moving
_iterator_0 = <operator>.iterator(coords)
const depthMode = renderingToTexture ? DepthMode.disabled : painter.depthModeForSublayer(coord.overscaledZ - minTileZ,
            layer.paint.get('raster-opacity') === 1 ? DepthMode.ReadWrite : DepthMode.ReadOnly, gl.LESS)
layer.paint.get('raster-opacity') === 1 ? DepthMode.ReadWrite : DepthMode.ReadOnly
const unwrappedTileID = coord.toUnwrapped()
const tile = sourceCache.getTile(coord)
renderingToTexture && !(tile && tile.hasData())
const projMatrix = (renderingToTexture) ? coord.projMatrix :
            painter.transform.calculateProjMatrix(unwrappedTileID, align)
painter.transform.calculateProjMatrix(unwrappedTileID, align)
const stencilMode = painter.terrain && renderingToTexture ?
            painter.terrain.stencilModeForRTTOverlap(coord) :
            stencilModes[coord.overscaledZ]
(_tmp_6 = painter.terrain).stencilModeForRTTOverlap
stencilModes[coord.overscaledZ]
const rasterFadeDuration = isInitialLoad ? 0 : layer.paint.get('raster-fade-duration')
tile.registerFadeDuration(rasterFadeDuration)
const parentTile = sourceCache.findLoadedParent(coord, 0)
const fade = rasterFade(tile, parentTile, sourceCache, painter.transform, rasterFadeDuration)
(_tmp_8 = painter.terrain).prepareDrawTile
const textureFilter = layer.paint.get('raster-resampling') === 'nearest' ? gl.NEAREST : gl.LINEAR
context.activeTexture.set(gl.TEXTURE0)
tile.texture.bind(textureFilter, gl.CLAMP_TO_EDGE)
context.activeTexture.set(gl.TEXTURE1)
parentTile.texture.bind(textureFilter, gl.CLAMP_TO_EDGE)
parentScaleBy = Math.pow(2, parentTile.tileID.overscaledZ - tile.tileID.overscaledZ)
parentTL = [tile.tileID.canonical.x * parentScaleBy % 1, tile.tileID.canonical.y * parentScaleBy % 1]
tile.texture.bind(textureFilter, gl.CLAMP_TO_EDGE)
tile.texture.useMipmap && context.extTextureFilterAnisotropic && painter.transform.pitch > 20
gl.texParameterf(gl.TEXTURE_2D, context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT, context.extTextureFilterAnisotropicMax)
const perspectiveTransform = source instanceof ImageSource ? source.perspectiveTransform : [0, 0]
const uniformValues = rasterUniformValues(projMatrix, parentTL || [0, 0], parentScaleBy || 1, fade, layer, perspectiveTransform)
painter.prepareDrawProgram(context, program, unwrappedTileID)
source instanceof ImageSource
program.draw(
                context, gl.TRIANGLES, depthMode, StencilMode.disabled, colorMode, CullFaceMode.disabled,
                uniformValues, layer.id, source.boundsBuffer,
                painter.quadTriangleIndexBuffer, source.boundsSegments)
CullFaceMode.disabled
source.boundsBuffer
painter.quadTriangleIndexBuffer
tileBoundsIndexBuffer = _tmp_18.tileBoundsIndexBuffer
program.draw(context, gl.TRIANGLES, depthMode, stencilMode, colorMode, CullFaceMode.disabled,
                uniformValues, layer.id, tileBoundsBuffer,
                tileBoundsIndexBuffer, tileBoundsSegments)
layer.id
