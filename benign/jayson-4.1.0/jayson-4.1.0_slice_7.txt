utils.JSON.stringify(request, options, function(err, body) {
    if(err) {
      return callback(err);
    }

    options.method = options.method || 'POST';

    const headers = {
      'Content-Length': Buffer.byteLength(body, options.encoding),
      'Content-Type': 'application/json; charset=utf-8',
      Accept: 'application/json',
      'User-Agent': `jayson-${version}`,
    };

    // let user override the headers
    options.headers = utils.merge(headers, options.headers || {});

    const req = self._getRequestStream(options);

    self.emit('http request', req);

    req.on('response', function(res) {
      self.emit('http response', res, req);

      res.setEncoding(options.encoding);

      let data = '';
      res.on('data', function(chunk) { data += chunk; });

      res.on('end', function() {

        // assume we have an error
        if(res.statusCode < 200 || res.statusCode >= 300) {
          // assume the server gave the reason in the body
          const err = ne...
options.method = options.method || 'POST'
const headers = {
      'Content-Length': Buffer.byteLength(body, options.encoding),
      'Content-Type': 'application/json; charset=utf-8',
      Accept: 'application/json',
      'User-Agent': `jayson-${version}`,
    }
_tmp_7.Content-Length = Buffer.byteLength(body, options.encoding)
_tmp_7.Content-Type = "application/json; charset=utf-8"
_tmp_7.Accept = "application/json"
_tmp_7.User-Agent = <operator>.formatString("jayson-", version, "")
options.headers = utils.merge(headers, options.headers || {})
const req = self._getRequestStream(options)
self.emit('http request', req)
