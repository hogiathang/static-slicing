BpmnUpdater.prototype.updateSemanticParent = function(businessObject, newParent, visualParent) {

  var containment,
      translate = this._translate;

  if (businessObject.$parent === newParent) {
    return;
  }

  if (is(businessObject, 'bpmn:DataInput') || is(businessObject, 'bpmn:DataOutput')) {

    if (is(newParent, 'bpmn:Participant') && 'processRef' in newParent) {
      newParent = newParent.processRef;
    }

    // already in correct ioSpecification
    if ('ioSpecification' in newParent && newParent.ioSpecification === businessObject.$parent) {
      return;
    }
  }

  if (is(businessObject, 'bpmn:Lane')) {

    if (newParent) {
      newParent = this.getLaneSet(newParent);
    }

    containment = 'lanes';
  } else

  if (is(businessObject, 'bpmn:FlowElement')) {

    if (newParent) {

      if (is(newParent, 'bpmn:Participant')) {
        newParent = newParent.processRef;
      } else

      if (is(newParent, 'bpmn:Lane')) {
        do {

          // unwrap Lane -...
var translate = this._translate
businessObject.$parent === newParent
is(businessObject, 'bpmn:DataInput') || is(businessObject, 'bpmn:DataOutput')
is(newParent, 'bpmn:Participant') && 'processRef' in newParent
newParent = newParent.processRef
'ioSpecification' in newParent && newParent.ioSpecification === businessObject.$parent
is(businessObject, 'bpmn:Lane')
is(businessObject, 'bpmn:FlowElement')
is(businessObject, 'bpmn:Artifact')
is(businessObject, 'bpmn:MessageFlow')
is(businessObject, 'bpmn:Participant')
containment = 'participants'
var process = businessObject.processRef
definitions = getDefinitions(businessObject.$parent || newParent)
businessObject.$parent
collectionRemove(definitions.get('rootElements'), process)
process.$parent = null
collectionAdd(definitions.get('rootElements'), process)
