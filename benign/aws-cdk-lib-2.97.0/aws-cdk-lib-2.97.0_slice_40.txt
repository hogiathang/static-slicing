function fingerprint = function fingerprint(fileOrDirectory,options={}){const hash=crypto.createHash("sha256");_hashField(hash,"options.extra",options.extraHash||"");const follow=options.follow||options_1.SymlinkFollowMode.EXTERNAL;_hashField(hash,"options.follow",follow),fileOrDirectory=fs.realpathSync(fileOrDirectory);const isDir=fs.statSync(fileOrDirectory).isDirectory(),rootDirectory=isDir?fileOrDirectory:path.dirname(fileOrDirectory),ignoreMode=options.ignoreMode||options_1.IgnoreMode.GLOB;ignoreMode!=options_1.IgnoreMode.GLOB&&_hashField(hash,"options.ignoreMode",ignoreMode);const ignoreStrategy=ignore_1.IgnoreStrategy.fromCopyOptions(options,fileOrDirectory);return _processFileOrDirectory(fileOrDirectory,isDir),hash.digest("hex");function _processFileOrDirectory(symbolicPath,isRootDir=!1,realPath=symbolicPath){if(!isRootDir&&ignoreStrategy.ignores(symbolicPath))return;const stat=fs.lstatSync(realPath),hashComponent=path.relative(fileOrDirectory,symbolicPath).replace(/\\/g,"/");if(stat.isSymbolicLin...
