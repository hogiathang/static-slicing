function prepareApp = function prepareApp(root){for(const dependency of findTransitiveDeps(root)){const targetCfnResources=findCfnResources(dependency.target),sourceCfnResources=findCfnResources(dependency.source);for(const target of targetCfnResources)for(const source of sourceCfnResources)source.addDependency(target)}(0,refs_1.resolveReferences)(root);const queue=findAllNestedStacks(root);if(queue.length>0){for(;queue.length>0;){const nested=queue.shift();defineNestedStackAsset(nested)}(0,refs_1.resolveReferences)(root)}}
