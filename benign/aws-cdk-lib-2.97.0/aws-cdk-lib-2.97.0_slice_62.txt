function handler = async function handler(event){if(console.log({...event,ResponseURL:"..."}),event.RequestType==="Delete"){console.log("not calling trigger on DELETE");return}if(event.RequestType==="Update"&&event.ResourceProperties.ExecuteOnHandlerChange==="false"){console.log("not calling trigger because ExecuteOnHandlerChange is false");return}const handlerArn=event.ResourceProperties.HandlerArn;if(!handlerArn)throw new Error('The "HandlerArn" property is required');const invocationType=event.ResourceProperties.InvocationType,timeout=event.ResourceProperties.Timeout,parsedTimeout=parseInt(timeout);if(isNaN(parsedTimeout))throw new Error(`The "Timeout" property with value ${timeout} is not parsable to a number`);const invokeResponse=await(0,exports.invoke)(handlerArn,invocationType,parsedTimeout);if(invokeResponse.StatusCode&&invokeResponse.StatusCode>=400)throw new Error(`Trigger handler failed with status code ${invokeResponse.StatusCode}`);if(invokeResponse.FunctionError)throw new Error(parseErr...
