function projectDependencies = function projectDependencies(dependencies,project){for(const node of dependencies.keys()){const projectedNodes=project(node);if(projectedNodes.length===1&&projectedNodes[0]===node)continue;const deps=(0,javascript_1.extract)(dependencies,node);for(const projectedNode of projectedNodes)(0,javascript_1.addAll)(dependencies.get(projectedNode),deps)}for(const[node,deps]of dependencies.entries()){const depset=new Set((0,javascript_1.flatMap)(deps,project));depset.delete(node),dependencies.set(node,depset)}return dependencies}
