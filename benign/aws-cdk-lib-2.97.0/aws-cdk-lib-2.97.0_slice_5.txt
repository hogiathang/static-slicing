function metricGraphJson = function metricGraphJson(metric,yAxis,id){const config=metric.toMetricConfig(),ret=[],options={...config.renderingProperties};(0,metric_util_1.dispatchMetric)(metric,{withStat(stat){ret.push(stat.namespace,stat.metricName);for(const dim of stat.dimensions||[])ret.push(dim.name,dim.value);stat.account&&(options.accountId=(0,env_tokens_1.accountIfDifferentFromStack)(stat.account)),stat.region&&(options.region=(0,env_tokens_1.regionIfDifferentFromStack)(stat.region)),stat.period&&stat.period.toSeconds()!==300&&(options.period=stat.period.toSeconds()),stat.statistic&&stat.statistic!=="Average"&&(options.stat=stat.statistic)},withExpression(expr){options.expression=expr.expression,expr.searchAccount&&(options.accountId=(0,env_tokens_1.accountIfDifferentFromStack)(expr.searchAccount)),expr.searchRegion&&(options.region=(0,env_tokens_1.regionIfDifferentFromStack)(expr.searchRegion)),expr.period&&expr.period!==300&&(options.period=expr.period)}}),yAxis||(options.visible=!1),yAxis!=="left"&&...
