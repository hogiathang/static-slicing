Client.prototype.sendStat = function (stat, value, type, sampleRate, tags, callback) {
  let message = `${this.prefix + stat + this.suffix}:${value}|${type}`;
  sampleRate = sampleRate || this.sampleRate;
  if (sampleRate && sampleRate < 1) {
    if (Math.random() < sampleRate) {
      message += `|@${sampleRate}`;
    } else {
      // don't want to send if we don't meet the sample ratio
      return callback ? callback() : undefined;
    }
  }
  this.send(message, tags, callback);
}
<operator>.formatString("", this.prefix + stat + this.suffix, ":", value, "|", type, "")
sampleRate = sampleRate || this.sampleRate
sampleRate && sampleRate < 1
Math.random() < sampleRate
<operator>.formatString("|@", sampleRate, "")
this.send(message, tags, callback)
