_regenerator2.default.wrap(function _callee$(_context) {
            while (1) {
                switch (_context.prev = _context.next) {
                    case 0:
                        dependencies = function dependencies(pkg) {
                            if (currentState.get('global')) {
                                return currentState.get('globalPackages');
                            }

                            if (currentState.get('ignoreDev')) {
                                return pkg.dependencies;
                            }

                            if (currentState.get('devOnly')) {
                                return pkg.devDependencies;
                            }

                            return extend(pkg.dependencies, pkg.devDependencies);
                        };

                        _context.next = 3;
                        return getUnusedPackages(currentState);

                    case 3:
                        spinner = ora('Che...
1
_context.prev = _context.next
3
spinner = ora('Checking npm registries for updated packages.')
spinner.enabled = spinner.enabled && currentState.get('spinner')
spinner.start()
cwdPackageJson = currentState.get('cwdPackageJson')
allDependencies = dependencies(cwdPackageJson)
allDependenciesIncludingMissing = (0, _keys2.default)(extend(allDependencies, currentState.get('missingFromPackageJson')))
