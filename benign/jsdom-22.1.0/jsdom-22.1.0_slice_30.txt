process.stdin.on("end", () => {
  const buffer = Buffer.concat(chunks);

  const flag = JSON.parse(buffer.toString());
  if (flag.body && flag.body.type === "Buffer" && flag.body.data) {
    flag.body = Buffer.from(flag.body.data);
  }
  if (flag.cookieJar) {
    flag.cookieJar = tough.CookieJar.fromJSON(flag.cookieJar);
  }

  flag.synchronous = false;
  Object.assign(xhrImpl.flag, flag);
  const { properties } = xhrImpl;
  xhrImpl.readyState = READY_STATES.OPENED;
  try {
    xhr.addEventListener("loadend", () => {
      if (properties.error) {
        properties.error = properties.error.stack || util.inspect(properties.error);
      }
      process.stdout.write(JSON.stringify({
        responseURL: xhrImpl.responseURL,
        status: xhrImpl.status,
        statusText: xhrImpl.statusText,
        properties
      }), () => {
        process.exit(0);
      });
    }, false);
    xhr.send(flag.body);
  } catch (error) {
    properties.error += error.stack || util.inspect(error);
 ...
const buffer = Buffer.concat(chunks)
const flag = JSON.parse(buffer.toString())
flag.body && flag.body.type === "Buffer" && flag.body.data
flag.body = Buffer.from(flag.body.data)
flag.cookieJar
flag.cookieJar = tough.CookieJar.fromJSON(flag.cookieJar)
flag.synchronous = false
Object.assign(xhrImpl.flag, flag)
properties = _tmp_7.properties
xhrImpl.readyState = READY_STATES.OPENED
xhr.addEventListener("loadend", () => {
      if (properties.error) {
        properties.error = properties.error.stack || util.inspect(properties.error);
      }
      process.stdout.write(JSON.stringify({
        responseURL: xhrImpl.responseURL,
        status: xhrImpl.status,
        statusText: xhrImpl.statusText,
        properties
      }), () => {
        process.exit(0);
      });
    }, false)
xhr.send(flag.body)
properties.error += error.stack || util.inspect(error)
process.stdout.write(JSON.stringify({
      responseURL: xhrImpl.responseURL,
      status: xhrImpl.status,
      statusText: xhrImpl.statusText,
      properties
    }), () => {
      process.exit(0);
    })
_tmp_11.responseURL = xhrImpl.responseURL
_tmp_11.status = xhrImpl.status
_tmp_11.statusText = xhrImpl.statusText
_tmp_11.properties = properties
