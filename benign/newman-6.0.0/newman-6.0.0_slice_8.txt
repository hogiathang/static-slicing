newman.on('beforeDone', function () {
        var report = _.get(newman, 'summary.run.executions'),
            collection = _.get(newman, 'summary.collection'),
            cache,
            root,
            testSuitesExecutionTime = 0,
            executionTime = 0,
            timestamp,
            classname;

        if (!report) {
            return;
        }

        classname = _.upperFirst(_.camelCase(collection.name).replace(/\W/g, ''));

        root = xml.create('testsuites', { version: '1.0', encoding: 'UTF-8' });
        root.att('name', collection.name);
        root.att('tests', _.get(newman, 'summary.run.stats.tests.total', 'unknown'));

        cache = _.transform(report, function (accumulator, execution) {
            accumulator[execution.item.id] = accumulator[execution.id] || [];
            accumulator[execution.item.id].push(execution);
        }, {});

        timestamp = new Date(_.get(newman, 'summary.run.timings.started')).toISOString();

        _.for...
var report = _.get(newman, 'summary.run.executions')
var collection = _.get(newman, 'summary.collection')
var testSuitesExecutionTime = 0
var executionTime = 0
!report
classname = _.upperFirst(_.camelCase(collection.name).replace(/\W/g, ''))
root = xml.create('testsuites', { version: '1.0', encoding: 'UTF-8' })
root.att('name', collection.name)
root.att('tests', _.get(newman, 'summary.run.stats.tests.total', 'unknown'))
cache = _.transform(report, function (accumulator, execution) {
            accumulator[execution.item.id] = accumulator[execution.id] || [];
            accumulator[execution.item.id].push(execution);
        }, {})
timestamp = new Date(_.get(newman, 'summary.run.timings.started')).toISOString()
