this.drawInDocument = function(isClip, isMask) {
        if (this.get('visibility') === 'hidden' || !this.shape) {return;}
        doc.save();
        this.transform();
        this.clip();
        if (!isClip) {
          let masked = this.mask(),
              group;
          if (masked) {
            group = docBeginGroup(getPageBBox());
          }
          let subPaths = this.shape.getSubPaths(),
              fill = this.getFill(isClip, isMask),
              stroke = this.getStroke(isClip, isMask),
              lineWidth = this.get('stroke-width'),
              lineCap = this.get('stroke-linecap');
          if (fill || stroke) {
            if (fill) {
              docFillColor(fill);
            }
            if (stroke) {
              for (let j = 0; j < subPaths.length; j++) {
                if (isEqual(subPaths[j].totalLength, 0)) {
                  if ((lineCap === 'square' || lineCap === 'round') && lineWidth > 0) {
                    i...
this.get('visibility') === 'hidden' || !this.shape
doc.save()
this.transform()
this.clip()
!isClip
let masked = this.mask()
group = docBeginGroup(getPageBBox())
let subPaths = this.shape.getSubPaths()
let fill = this.getFill(isClip, isMask)
let stroke = this.getStroke(isClip, isMask)
let lineWidth = this.get('stroke-width')
