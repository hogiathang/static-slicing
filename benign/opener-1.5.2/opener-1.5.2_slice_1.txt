module.exports = function opener(args, options, callback) {
    var platform = process.platform;

    // Attempt to detect Windows Subystem for Linux (WSL). WSL  itself as Linux (which works in most cases), but in
    // this specific case we need to treat it as actually being Windows. The "Windows-way" of opening things through
    // cmd.exe works just fine here, whereas using xdg-open does not, since there is no X Windows in WSL.
    if (platform === "linux" && os.release().indexOf("Microsoft") !== -1) {
        platform = "win32";
    }

    // http://stackoverflow.com/q/1480971/3191, but see below for Windows.
    var command;
    switch (platform) {
        case "win32": {
            command = "cmd.exe";
            break;
        }
        case "darwin": {
            command = "open";
            break;
        }
        default: {
            command = "xdg-open";
            break;
        }
    }

    if (typeof args === "string") {
        args = [args];
    }

    if (...
var platform = process.platform
platform === "linux" && os.release().indexOf("Microsoft") !== -1
platform = "win32"
"win32"
command = "cmd.exe"
break;
"darwin"
command = "open"
break;
default:
command = "xdg-open"
break;
typeof args === "string"
_tmp_1 = __ecma.Array.factory()
typeof options === "function"
callback = options
options = {}
options && typeof options === "object" && options.command
platform === "win32"
args = [options.command].concat(args)
command = options.command
platform === "win32"
args = args.map(function (value) {
            return value.replace(/[&^]/g, "^$&");
        })
args = ["/c", "start", "\"\""].concat(args)
childProcess.execFile(command, args, options, callback)
