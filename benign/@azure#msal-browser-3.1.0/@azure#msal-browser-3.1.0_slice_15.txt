onChannelMessage(event) {
        this.logger.trace("NativeMessageHandler - onChannelMessage called.");
        const request = event.data;
        const resolver = this.resolvers.get(request.responseId);
        const handshakeResolver = this.handshakeResolvers.get(request.responseId);
        try {
            const method = request.body.method;
            if (method === NativeExtensionMethod.Response) {
                if (!resolver) {
                    return;
                }
                const response = request.body.response;
                this.logger.trace("NativeMessageHandler - Received response from browser extension");
                this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(response)}`);
                if (response.status !== "Success") {
                    resolver.reject(NativeAuthError.createError(response.code, response.description, response.ext));
                }
                else if (re...
this.logger.trace("NativeMessageHandler - onChannelMessage called.")
const request = event.data
const resolver = this.resolvers.get(request.responseId)
const handshakeResolver = this.handshakeResolvers.get(request.responseId)
const method = request.body.method
method === NativeExtensionMethod.Response
method === NativeExtensionMethod.HandshakeResponse
!handshakeResolver
clearTimeout(this.timeoutId)
window.removeEventListener("message", this.windowListener, false)
this.extensionId = request.extensionId
this.extensionVersion = request.body.version
<operator>.formatString("NativeMessageHandler - Received HandshakeResponse from extension: ", this.extensionId, "")
this.handshakeEvent.end({
                    extensionInstalled: true,
                    success: true,
                })
_tmp_1649.extensionInstalled = true
_tmp_1649.success = true
handshakeResolver.resolve()
this.handshakeResolvers.delete(request.responseId)
