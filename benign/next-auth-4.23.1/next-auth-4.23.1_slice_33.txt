function NextAuthRouteHandler = async function NextAuthRouteHandler(req, context, options) {
  var _options$secret2, _context$params, _query$error;

  (_options$secret2 = options.secret) !== null && _options$secret2 !== void 0 ? _options$secret2 : options.secret = process.env.NEXTAUTH_SECRET;

  const {
    headers,
    cookies
  } = require("next/headers");

  const nextauth = (_context$params = context.params) === null || _context$params === void 0 ? void 0 : _context$params.nextauth;
  const query = Object.fromEntries(req.nextUrl.searchParams);
  const body = await (0, _utils.getBody)(req);
  const internalResponse = await (0, _core.AuthHandler)({
    req: {
      body,
      query,
      cookies: Object.fromEntries(cookies().getAll().map(c => [c.name, c.value])),
      headers: Object.fromEntries(headers()),
      method: req.method,
      action: nextauth === null || nextauth === void 0 ? void 0 : nextauth[0],
      providerId: nextauth === null || nextauth === void 0 ? void 0 : nextauth[1],
      error: (_qu...
(_options$secret2 = options.secret) !== null && _options$secret2 !== void 0 ? _options$secret2 : options.secret = process.env.NEXTAUTH_SECRET
_tmp_5 = require("next/headers")
headers = _tmp_5.headers
cookies = _tmp_5.cookies
require("next/headers")
const nextauth = (_context$params = context.params) === null || _context$params === void 0 ? void 0 : _context$params.nextauth
const query = Object.fromEntries(req.nextUrl.searchParams)
const body = await (0, _utils.getBody)(req)
const internalResponse = await (0, _core.AuthHandler)({
    req: {
      body,
      query,
      cookies: Object.fromEntries(cookies().getAll().map(c => [c.name, c.value])),
      headers: Object.fromEntries(headers()),
      method: req.method,
      action: nextauth === null || nextauth === void 0 ? void 0 : nextauth[0],
      providerId: nextauth === null || nextauth === void 0 ? void 0 : nextauth[1],
      error: (_query$error = query.error) !== null && _query$error !== void 0 ? _query$error : nextauth === null || nextauth === void 0 ? void 0 : nextauth[1]
    },
    options
  })
_tmp_6.req = {
      body,
      query,
      cookies: Object.fromEntries(cookies().getAll().map(c => [c.name, c.value])),
      headers: Object.fromEntries(headers()),
      method: req.method,
      action: nextauth === null || nextauth === void 0 ? void 0 : nextauth[0],
      providerId: nextauth === null || nextauth === void 0 ? void 0 : nextauth[1],
      error: (_query$error = query.error) !== null && _query$error !== void 0 ? _query$error : nextauth === null || nextauth === void 0 ? void 0 : nextauth[1]
    }
_tmp_7.body = body
_tmp_7.query = query
_tmp_7.cookies = Object.fromEntries(cookies().getAll().map(c => [c.name, c.value]))
_tmp_7.headers = Object.fromEntries(headers())
_tmp_7.method = req.method
_tmp_7.action = nextauth === null || nextauth === void 0 ? void 0 : nextauth[0]
_tmp_7.providerId = nextauth === null || nextauth === void 0 ? void 0 : nextauth[1]
_tmp_7.error = (_query$error = query.error) !== null && _query$error !== void 0 ? _query$error : nextauth === null || nextauth === void 0 ? void 0 : nextauth[1]
_tmp_6.options = options
const response = (0, _utils.toResponse)(internalResponse)
const redirect = response.headers.get("Location")
(body === null || body === void 0 ? void 0 : body.json) === "true" && redirect
response.headers.delete("Location")
response.headers.set("Content-Type", "application/json")
new Response(JSON.stringify({
      url: redirect
    }), {
      headers: response.headers
    })
_tmp_15.url = redirect
