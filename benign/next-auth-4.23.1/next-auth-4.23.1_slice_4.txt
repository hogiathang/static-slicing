function getToken = async function getToken(params) {
  var _process$env$NEXTAUTH, _process$env$NEXTAUTH2, _req$headers;

  const {
    req,
    secureCookie = (_process$env$NEXTAUTH = (_process$env$NEXTAUTH2 = process.env.NEXTAUTH_URL) === null || _process$env$NEXTAUTH2 === void 0 ? void 0 : _process$env$NEXTAUTH2.startsWith("https://")) !== null && _process$env$NEXTAUTH !== void 0 ? _process$env$NEXTAUTH : !!process.env.VERCEL,
    cookieName = secureCookie ? "__Secure-next-auth.session-token" : "next-auth.session-token",
    raw,
    decode: _decode = decode,
    logger = console,
    secret = process.env.NEXTAUTH_SECRET
  } = params;
  if (!req) throw new Error("Must pass `req` to JWT getToken()");
  const sessionStore = new _cookie.SessionStore({
    name: cookieName,
    options: {
      secure: secureCookie
    }
  }, {
    cookies: req.cookies,
    headers: req.headers
  }, logger);
  let token = sessionStore.value;
  const authorizationHeader = req.headers instanceof Headers ? req.headers.get(...
_tmp_12 = params
req = _tmp_12.req
secureCookie = _tmp_12.secureCookie === void 0 ? (_process$env$NEXTAUTH = (_process$env$NEXTAUTH2 = process.env.NEXTAUTH_URL) === null || _process$env$NEXTAUTH2 === void 0 ? void 0 : _process$env$NEXTAUTH2.startsWith("https://")) !== null && _process$env$NEXTAUTH !== void 0 ? _process$env$NEXTAUTH : !!process.env.VERCEL : _tmp_12.secureCookie
cookieName = _tmp_12.cookieName === void 0 ? secureCookie ? "__Secure-next-auth.session-token" : "next-auth.session-token" : _tmp_12.cookieName
raw = _tmp_12.raw
_decode = _tmp_12.decode === void 0 ? decode : _tmp_12.decode
logger = _tmp_12.logger === void 0 ? console : _tmp_12.logger
secret = _tmp_12.secret === void 0 ? process.env.NEXTAUTH_SECRET : _tmp_12.secret
throw new Error("Must pass `req` to JWT getToken()");
const sessionStore = new _cookie.SessionStore({
    name: cookieName,
    options: {
      secure: secureCookie
    }
  }, {
    cookies: req.cookies,
    headers: req.headers
  }, logger)
_tmp_15.name = cookieName
_tmp_15.options = {
      secure: secureCookie
    }
_tmp_16.secure = secureCookie
_tmp_17.cookies = req.cookies
_tmp_17.headers = req.headers
let token = sessionStore.value
const authorizationHeader = req.headers instanceof Headers ? req.headers.get("authorization") : (_req$headers = req.headers) === null || _req$headers === void 0 ? void 0 : _req$headers.authorization
