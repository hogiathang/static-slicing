function toInternalRequest = async function toInternalRequest(req) {
  var _headers$xForwarded2;

  if (req instanceof Request) {
    var _req$headers$get, _url$searchParams$get, _headers$xForwarded;

    const url = new URL(req.url);
    const nextauth = url.pathname.split("/").slice(3);
    const headers = Object.fromEntries(req.headers);
    const query = Object.fromEntries(url.searchParams);
    query.nextauth = nextauth;
    return {
      action: nextauth[0],
      method: req.method,
      headers,
      body: await getBody(req),
      cookies: (0, _cookie2.parse)((_req$headers$get = req.headers.get("cookie")) !== null && _req$headers$get !== void 0 ? _req$headers$get : ""),
      providerId: nextauth[1],
      error: (_url$searchParams$get = url.searchParams.get("error")) !== null && _url$searchParams$get !== void 0 ? _url$searchParams$get : nextauth[1],
      origin: (0, _detectOrigin.detectOrigin)((_headers$xForwarded = headers["x-forwarded-host"]) !== null && _headers$xForwarded !== void 0 ? _headers...
req instanceof Request
const url = new URL(req.url)
const nextauth = url.pathname.split("/").slice(3)
const headers = Object.fromEntries(req.headers)
const query = Object.fromEntries(url.searchParams)
query.nextauth = nextauth
_tmp_8.action = nextauth[0]
_tmp_8.method = req.method
_tmp_8.headers = headers
_tmp_8.body = await getBody(req)
_tmp_8.cookies = (0, _cookie2.parse)((_req$headers$get = req.headers.get("cookie")) !== null && _req$headers$get !== void 0 ? _req$headers$get : "")
_tmp_8.providerId = nextauth[1]
_tmp_8.error = (_url$searchParams$get = url.searchParams.get("error")) !== null && _url$searchParams$get !== void 0 ? _url$searchParams$get : nextauth[1]
