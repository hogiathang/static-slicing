const program = require('commander')
const chalk = require('chalk')
const debug = require('debug')('find-process')
const find = require('..')
const pkg = require('../package.json')
program
  .version(pkg.version)
  .option('-t, --type <type>', 'find process by keyword type (pid|port|name)')
  .option('-p, --port', 'find process by port')
  .arguments('<keyword>')
  .action(function (kw) {
    keyword = kw
  })
  .on('--help', () => {
    console.log()
    console.log('  Examples:')
    console.log()
    console.log('    $ find-process node          # find by name "node"')
    console.log('    $ find-process 111           # find by pid "111"')
    console.log('    $ find-process -p 80         # find by port "80"')
    console.log('    $ find-process -t port 80    # find by port "80"')
    console.log()
  })
  .parse(process.argv)
pkg.version
"find process by keyword type (pid|port|name)"
"find process by port"
"<keyword>"
<lambda>0
<lambda>1
process.argv
const opts = program.opts()
!keyword
console.error(chalk.red('Error: search keyword cannot be empty!'))
program.outputHelp()
process.exit(1)
