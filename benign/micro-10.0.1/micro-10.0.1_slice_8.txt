const sendError = (
  req: IncomingMessage,
  res: ServerResponse,
  errorObj: Error | HttpError,
) => {
  if ('statusCode' in errorObj && errorObj.statusCode) {
    send(res, errorObj.statusCode, errorObj.message);
  } else send(res, 500, 'Internal Server Error');

  if (errorObj instanceof Error) {
    // eslint-disable-next-line no-console
    console.error(errorObj.stack);
  } else {
    // eslint-disable-next-line no-console
    console.warn('thrown error must be an instance Error');
  }
}
'statusCode' in errorObj && errorObj.statusCode
