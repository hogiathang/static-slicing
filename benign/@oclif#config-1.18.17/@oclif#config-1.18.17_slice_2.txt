function registerTSNode = function registerTSNode(root) {
    if (process.env.OCLIF_TS_NODE === '0')
        return;
    if (tsconfigs[root])
        return;
    const tsconfig = loadTSConfig(root);
    if (!tsconfig)
        return;
    debug('registering ts-node at', root);
    const tsNodePath = require.resolve('ts-node', { paths: [root, __dirname] });
    const tsNode = require(tsNodePath);
    tsconfigs[root] = tsconfig;
    typeRoots.push(`${root}/node_modules/@types`);
    if (tsconfig.compilerOptions.rootDirs) {
        rootDirs.push(...tsconfig.compilerOptions.rootDirs.map(r => path.join(root, r)));
    }
    else {
        rootDirs.push(`${root}/src`);
    }
    const cwd = process.cwd();
    try {
        process.chdir(root);
        tsNode.register({
            skipProject: true,
            transpileOnly: true,
            // cache: false,
            // typeCheck: true,
            compilerOptions: {
                esModuleInterop: tsconfig.compilerOptions.esModuleInterop,
                tar...
process.env.OCLIF_TS_NODE === '0'
tsconfigs[root]
const tsconfig = loadTSConfig(root)
!tsconfig
debug('registering ts-node at', root)
const tsNodePath = require.resolve('ts-node', { paths: [root, __dirname] })
const tsNode = require(tsNodePath)
tsconfigs[root] = tsconfig
<operator>.formatString("", root, "/node_modules/@types")
tsconfig.compilerOptions.rootDirs
rootDirs.push(...tsconfig.compilerOptions.rootDirs.map(r => path.join(root, r)))
<operator>.formatString("", root, "/src")
const cwd = process.cwd()
process.chdir(root)
tsNode.register({
            skipProject: true,
            transpileOnly: true,
            // cache: false,
            // typeCheck: true,
            compilerOptions: {
                esModuleInterop: tsconfig.compilerOptions.esModuleInterop,
                target: tsconfig.compilerOptions.target || 'es2017',
                experimentalDecorators: tsconfig.compilerOptions.experimentalDecorators || false,
                emitDecoratorMetadata: tsconfig.compilerOptions.emitDecoratorMetadata || false,
                module: 'commonjs',
                sourceMap: true,
                rootDirs,
                typeRoots,
                jsx: 'react',
            },
        })
_tmp_4.skipProject = true
_tmp_4.transpileOnly = true
_tmp_4.compilerOptions = {
                esModuleInterop: tsconfig.compilerOptions.esModuleInterop,
                target: tsconfig.compilerOptions.target || 'es2017',
                experimentalDecorators: tsconfig.compilerOptions.experimentalDecorators || false,
                emitDecoratorMetadata: tsconfig.compilerOptions.emitDecoratorMetadata || false,
                module: 'commonjs',
                sourceMap: true,
                rootDirs,
                typeRoots,
                jsx: 'react',
            }
_tmp_5.esModuleInterop = tsconfig.compilerOptions.esModuleInterop
_tmp_5.target = tsconfig.compilerOptions.target || 'es2017'
_tmp_5.experimentalDecorators = tsconfig.compilerOptions.experimentalDecorators || false
_tmp_5.emitDecoratorMetadata = tsconfig.compilerOptions.emitDecoratorMetadata || false
_tmp_5.module = "commonjs"
_tmp_5.sourceMap = true
_tmp_5.rootDirs = rootDirs
_tmp_5.typeRoots = typeRoots
_tmp_5.jsx = "react"
process.chdir(cwd)
