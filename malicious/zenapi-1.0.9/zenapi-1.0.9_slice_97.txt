module.exports = function (plugin, cliArguments) {
  // Define variables.
  const pluginPrefix = 'zenapi-plugin-';
  const pluginID = `${pluginPrefix}${plugin}`;
  const pluginPath = `./plugins/${plugin}`;

  let loader = ora(`Install ${cyan(plugin)} plugin`).start();

  // Check that we're in a valid Zenapi project.
  if (!cli.isZenapiApp()) {
    return loader.fail('This command can only be used inside a Zenapi project.');
  }

  // Check that the plugin is not installed yet.
  if (fs.existsSync(pluginPath)) {
    loader.fail(`It looks like this plugin is already installed. Please check in \`${cyan(pluginPath)}\`.`);
    process.exit(1);
  }

  if (cliArguments.dev) {
    try {
      fs.symlinkSync(path.resolve(__dirname, '..', '..', pluginID), path.resolve(process.cwd(), pluginPath), 'junction');

      loader.succeed(`The ${cyan(plugin)} plugin has been successfully installed.`);
      process.exit(0);
    } catch (e) {
      console.log(e);
      loader.fail('An error occurred ...
const pluginPrefix = 'zenapi-plugin-'
<operator>.formatString("", pluginPrefix, "", plugin, "")
<operator>.formatString("./plugins/", plugin, "")
<operator>.formatString("Install ", cyan(plugin), " plugin")
!cli.isZenapiApp()
fs.existsSync(pluginPath)
<operator>.formatString("It looks like this plugin is already installed. Please check in \`", cyan(pluginPath), "\`.")
process.exit(1)
cliArguments.dev
const isZenapiInstalledWithNPM = packageManager.isZenapiInstalledWithNPM()
!isZenapiInstalledWithNPM
shell.mkdir('-p', [pluginPath])
fs.writeFileSync(`${pluginPath}/package.json`, JSON.stringify({}), 'utf8')
