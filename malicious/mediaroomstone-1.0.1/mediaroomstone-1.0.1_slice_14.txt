close() {
        if (this.#closed)
            return;
        logger.debug('close()');
        this.#closed = true;
        // Remove notification subscriptions.
        this.channel.removeAllListeners(this.internal.transportId);
        this.payloadChannel.removeAllListeners(this.internal.transportId);
        this.channel.request('transport.close', this.internal)
            .catch(() => { });
        // Close every Producer.
        for (const producer of this.#producers.values()) {
            producer.transportClosed();
            // Must tell the Router.
            this.emit('@producerclose', producer);
        }
        this.#producers.clear();
        // Close every Consumer.
        for (const consumer of this.consumers.values()) {
            consumer.transportClosed();
        }
        this.consumers.clear();
        // Close every DataProducer.
        for (const dataProducer of this.dataProducers.values()) {
            dataProducer.transpor...
this.#closed
logger.debug('close()')
this.#closed = true
this.channel.removeAllListeners(this.internal.transportId)
this.payloadChannel.removeAllListeners(this.internal.transportId)
this.channel.request('transport.close', this.internal)
            .catch(() => { })
<lambda>0
_iterator_0 = <operator>.iterator(this.#producers.values())
producer.transportClosed()
this.emit('@producerclose', producer)
(_tmp_13 = this.#producers).clear
_iterator_1 = <operator>.iterator(this.consumers.values())
consumer.transportClosed()
(_tmp_15 = this.consumers).clear
_iterator_2 = <operator>.iterator(this.dataProducers.values())
dataProducer.transportClosed()
this.emit('@dataproducerclose', dataProducer)
