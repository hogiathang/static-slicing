item.request.gen().end((err, res) => {
        if (res && res.headers) {
          this.requestLimit = Number(res.headers['x-ratelimit-limit']);
          this.requestResetTime = Number(res.headers['x-ratelimit-reset']) * 1000;
          this.requestRemaining = Number(res.headers['x-ratelimit-remaining']);
          this.timeDifference = Date.now() - new Date(res.headers.date).getTime();
        }
        if (err) {
          if (err.status === 429) {
            this.queue.unshift(item);
            this.restManager.client.setTimeout(() => {
              this.globalLimit = false;
              resolve();
            }, Number(res.headers['retry-after']) + this.restManager.client.options.restTimeOffset);
            if (res.headers['x-ratelimit-global']) this.globalLimit = true;
          } else {
            item.reject(err.status >= 400 && err.status < 500 ? new DiscordAPIError(res.body) : err);
            resolve(err);
          }
        } else {
          this.globalLimit = f...
res && res.headers
this.requestLimit = Number(res.headers['x-ratelimit-limit'])
this.requestResetTime = Number(res.headers['x-ratelimit-reset']) * 1000
this.requestRemaining = Number(res.headers['x-ratelimit-remaining'])
this.timeDifference = Date.now() - new Date(res.headers.date).getTime()
this.globalLimit = false
const data = res && res.body ? res.body : {}
item.resolve(data)
this.requestRemaining === 0
this.restManager.client.setTimeout(
              () => resolve(data),
              this.requestResetTime - Date.now() + this.timeDifference + this.restManager.client.options.restTimeOffset
            )
