app.render = function render(name, options, callback) {
  var cache = this.cache;
  var done = callback;
  var engines = this.engines;
  var opts = options;
  var renderOptions = {};
  var view;

  // support callback function as second arg
  if (typeof options === 'function') {
    done = options;
    opts = {};
  }

  // merge app.locals
  merge(renderOptions, this.locals);

  // merge options._locals
  if (opts._locals) {
    merge(renderOptions, opts._locals);
  }

  // merge options
  merge(renderOptions, opts);

  // set .cache unless explicitly provided
  if (renderOptions.cache == null) {
    renderOptions.cache = this.enabled('view cache');
  }

  // primed cache
  if (renderOptions.cache) {
    view = cache[name];
  }

  // view
  if (!view) {
    var View = this.get('view');

    view = new View(name, {
      defaultEngine: this.get('view engine'),
      root: this.get('views'),
      engines: engines
    });

    if (!view.path) {
      var dirs = Array.isArray(view.root...
var cache = this.cache
var done = callback
var engines = this.engines
var opts = options
var renderOptions = {}
typeof options === 'function'
done = options
opts = {}
merge(renderOptions, this.locals)
opts._locals
merge(renderOptions, opts._locals)
merge(renderOptions, opts)
renderOptions.cache == null
renderOptions.cache = this.enabled('view cache')
renderOptions.cache
view = cache[name]
!view
var View = this.get('view')
view = new View(name, {
      defaultEngine: this.get('view engine'),
      root: this.get('views'),
      engines: engines
    })
_tmp_25.defaultEngine = this.get('view engine')
_tmp_25.root = this.get('views')
