res.send = function send(body) {
  var chunk = body;
  var encoding;
  var req = this.req;
  var type;

  // settings
  var app = this.app;

  // allow status / body
  if (arguments.length === 2) {
    // res.send(body, status) backwards compat
    if (typeof arguments[0] !== 'number' && typeof arguments[1] === 'number') {
      deprecate('res.send(body, status): Use res.status(status).send(body) instead');
      this.statusCode = arguments[1];
    } else {
      deprecate('res.send(status, body): Use res.status(status).send(body) instead');
      this.statusCode = arguments[0];
      chunk = arguments[1];
    }
  }

  // disambiguate res.send(status) and res.send(status, num)
  if (typeof chunk === 'number' && arguments.length === 1) {
    // res.send(status) will set status message as text string
    if (!this.get('Content-Type')) {
      this.type('txt');
    }

    deprecate('res.send(status): Use res.sendStatus(status) instead');
    this.statusCode = chunk;
    chunk = statuse...
var chunk = body
var req = this.req
var app = this.app
arguments.length === 2
typeof arguments[0] !== 'number' && typeof arguments[1] === 'number'
deprecate('res.send(body, status): Use res.status(status).send(body) instead')
this.statusCode = arguments[1]
deprecate('res.send(status, body): Use res.status(status).send(body) instead')
this.statusCode = arguments[0]
chunk = arguments[1]
typeof chunk === 'number' && arguments.length === 1
!this.get('Content-Type')
this.type('txt')
deprecate('res.send(status): Use res.sendStatus(status) instead')
this.statusCode = chunk
chunk = statuses[chunk]
typeof chunk
"boolean"
"number"
"object"
chunk === null
Buffer.isBuffer(chunk)
!this.get('Content-Type')
