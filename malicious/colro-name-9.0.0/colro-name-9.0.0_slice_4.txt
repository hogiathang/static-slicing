emitter.on('request', request => {
			if (cancelOnRequest) {
				request.abort();
			}

			proxy.emit('request', request);

			const uploadComplete = () => {
				request.emit('upload-complete');
			};

			onCancel(() => {
				request.abort();
			});

			if (is.nodeStream(options.body)) {
				options.body.once('end', uploadComplete);
				options.body.pipe(request);
				options.body = undefined;
				return;
			}

			request.end(options.body, uploadComplete);
		})
request.abort()
