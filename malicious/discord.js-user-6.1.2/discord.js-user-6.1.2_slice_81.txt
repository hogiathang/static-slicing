edit(data, reason) {
    if (data.channel) {
      data.channel_id = this.client.channels.resolve(data.channel).id;
      data.channel = null;
    }
    if (data.roles) data.roles = data.roles.map(role => role instanceof Role ? role.id : role);
    let endpoint = this.client.api.guilds(this.guild.id);
    if (this.user.id === this.client.user.id) {
      const keys = Object.keys(data);
      if (keys.length === 1 && keys[0] === 'nick') endpoint = endpoint.members('@me').nick;
      else endpoint = endpoint.members(this.id);
    } else {
      endpoint = endpoint.members(this.id);
    }
    return endpoint.patch({ data, reason }).then(() => {
      const clone = this._clone();
      data.user = this.user;
      clone._patch(data);
      return clone;
    });
  }
data.channel
data.channel_id = this.client.channels.resolve(data.channel).id
data.channel = null
data.roles = data.roles.map(role => role instanceof Role ? role.id : role)
let endpoint = this.client.api.guilds(this.guild.id)
this.user.id === this.client.user.id
const keys = Object.keys(data)
keys.length === 1 && keys[0] === 'nick'
endpoint = endpoint.members(this.id)
endpoint = endpoint.members(this.id)
endpoint.patch({ data, reason }).then(() => {
      const clone = this._clone();
      data.user = this.user;
      clone._patch(data);
      return clone;
    })
