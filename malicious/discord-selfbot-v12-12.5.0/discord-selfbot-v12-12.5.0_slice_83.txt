client.on('interactionCreate', async interaction => {
  if (interaction.type === InteractionType.MessageComponent) {
    expectType<SelectMenuInteraction | ButtonInteraction>(interaction);
    expectType<MessageActionRowComponent | APIButtonComponent | APISelectMenuComponent>(interaction.component);
    expectType<Message>(interaction.message);
    if (interaction.inCachedGuild()) {
      expectAssignable<MessageComponentInteraction>(interaction);
      expectType<MessageActionRowComponent>(interaction.component);
      expectType<Message<true>>(interaction.message);
      expectType<Guild>(interaction.guild);
      expectAssignable<Promise<Message>>(interaction.reply({ fetchReply: true }));
    } else if (interaction.inRawGuild()) {
      expectAssignable<MessageComponentInteraction>(interaction);
      expectType<APIButtonComponent | APISelectMenuComponent>(interaction.component);
      expectType<Message<false>>(interaction.message);
      expectType<null>(interaction.guild);
   ...
interaction.type === InteractionType.MessageComponent
expectType<SelectMenuInteraction | ButtonInteraction>(interaction)
expectType<MessageActionRowComponent | APIButtonComponent | APISelectMenuComponent>(interaction.component)
expectType<Message>(interaction.message)
interaction.inCachedGuild()
expectAssignable<MessageComponentInteraction>(interaction)
expectType<MessageActionRowComponent>(interaction.component)
expectType<Message<true>>(interaction.message)
expectType<Guild>(interaction.guild)
expectAssignable<Promise<Message>>(interaction.reply({ fetchReply: true }))
interaction.inRawGuild()
expectAssignable<MessageComponentInteraction>(interaction)
expectType<APIButtonComponent | APISelectMenuComponent>(interaction.component)
expectType<Message<false>>(interaction.message)
expectType<null>(interaction.guild)
expectType<Promise<Message<false>>>(interaction.reply({ fetchReply: true }))
interaction.inGuild()
expectAssignable<MessageComponentInteraction>(interaction)
expectType<MessageActionRowComponent | APIButtonComponent | APISelectMenuComponent>(interaction.component)
expectType<Message>(interaction.message)
expectType<Guild | null>(interaction.guild)
expectType<Promise<Message>>(interaction.reply({ fetchReply: true }))
interaction.inCachedGuild()
expectAssignable<GuildMember>(interaction.member)
expectNotType<ChatInputCommandInteraction<'cached'>>(interaction)
expectAssignable<Interaction>(interaction)
expectType<Locale>(interaction.guildLocale)
interaction.inRawGuild()
expectAssignable<APIInteractionGuildMember>(interaction.member)
expectNotAssignable<Interaction<'cached'>>(interaction)
expectType<Locale>(interaction.guildLocale)
interaction.inGuild()
expectType<Locale>(interaction.guildLocale)
expectType<APIInteractionGuildMember | GuildMember | null>(interaction.member)
expectNotAssignable<Interaction<'cached'>>(interaction)
expectType<string | null>(interaction.guildId)
interaction.type === InteractionType.ApplicationCommand &&
    (interaction.commandType === ApplicationCommandType.User ||
      interaction.commandType === ApplicationCommandType.Message)
interaction.commandType === ApplicationCommandType.User ||
      interaction.commandType === ApplicationCommandType.Message
interaction.commandType === ApplicationCommandType.Message
expectType<MessageContextMenuCommandInteraction | UserContextMenuCommandInteraction>(interaction)
interaction.inCachedGuild()
expectAssignable<ContextMenuCommandInteraction>(interaction)
expectAssignable<Guild>(interaction.guild)
expectAssignable<CommandInteraction<'cached'>>(interaction)
interaction.inRawGuild()
expectAssignable<ContextMenuCommandInteraction>(interaction)
expectType<null>(interaction.guild)
interaction.inGuild()
expectAssignable<ContextMenuCommandInteraction>(interaction)
expectType<Guild | null>(interaction.guild)
interaction.type === InteractionType.ApplicationCommand &&
    interaction.commandType === ApplicationCommandType.Message
interaction.commandType === ApplicationCommandType.Message
expectType<Message>(interaction.targetMessage)
interaction.inCachedGuild()
expectType<Message<true>>(interaction.targetMessage)
interaction.inRawGuild()
expectType<Message<false>>(interaction.targetMessage)
interaction.inGuild()
expectType<Message>(interaction.targetMessage)
interaction.type === InteractionType.MessageComponent && interaction.componentType === ComponentType.Button
expectType<ButtonInteraction>(interaction)
expectType<ButtonComponent | APIButtonComponent>(interaction.component)
expectType<Message>(interaction.message)
interaction.inCachedGuild()
expectAssignable<ButtonInteraction>(interaction)
expectType<ButtonComponent>(interaction.component)
expectType<Message<true>>(interaction.message)
expectType<Guild>(interaction.guild)
expectAssignable<Promise<Message>>(interaction.reply({ fetchReply: true }))
interaction.inRawGuild()
expectAssignable<ButtonInteraction>(interaction)
expectType<APIButtonComponent>(interaction.component)
expectType<Message<false>>(interaction.message)
expectType<null>(interaction.guild)
expectType<Promise<Message<false>>>(interaction.reply({ fetchReply: true }))
interaction.inGuild()
expectAssignable<ButtonInteraction>(interaction)
expectType<ButtonComponent | APIButtonComponent>(interaction.component)
expectType<Message>(interaction.message)
expectAssignable<Guild | null>(interaction.guild)
expectType<Promise<Message>>(interaction.reply({ fetchReply: true }))
interaction.type === InteractionType.MessageComponent && interaction.componentType === ComponentType.SelectMenu
expectType<SelectMenuInteraction>(interaction)
expectType<SelectMenuComponent | APISelectMenuComponent>(interaction.component)
expectType<Message>(interaction.message)
interaction.inCachedGuild()
expectAssignable<SelectMenuInteraction>(interaction)
expectType<SelectMenuComponent>(interaction.component)
expectType<Message<true>>(interaction.message)
expectType<Guild>(interaction.guild)
expectType<Promise<Message<true>>>(interaction.reply({ fetchReply: true }))
interaction.inRawGuild()
expectAssignable<SelectMenuInteraction>(interaction)
expectType<APISelectMenuComponent>(interaction.component)
expectType<Message<false>>(interaction.message)
expectType<null>(interaction.guild)
expectType<Promise<Message<false>>>(interaction.reply({ fetchReply: true }))
interaction.inGuild()
expectAssignable<SelectMenuInteraction>(interaction)
expectType<SelectMenuComponent | APISelectMenuComponent>(interaction.component)
expectType<Message>(interaction.message)
expectType<Guild | null>(interaction.guild)
expectType<Promise<Message>>(interaction.reply({ fetchReply: true }))
interaction.type === InteractionType.ApplicationCommand &&
    interaction.commandType === ApplicationCommandType.ChatInput
interaction.commandType === ApplicationCommandType.ChatInput
interaction.inRawGuild()
expectNotAssignable<Interaction<'cached'>>(interaction)
expectAssignable<ChatInputCommandInteraction>(interaction)
expectType<Promise<Message<false>>>(interaction.reply({ fetchReply: true }))
expectType<APIInteractionDataResolvedGuildMember | null>(interaction.options.getMember('test'))
expectType<APIInteractionDataResolvedChannel>(interaction.options.getChannel('test', true))
expectType<APIRole>(interaction.options.getRole('test', true))
interaction.inCachedGuild()
const msg = await interaction.reply({ fetchReply: true })
const btn = await msg.awaitMessageComponent({ componentType: ComponentType.Button })
expectType<Message<true>>(msg)
expectType<ButtonInteraction<'cached'>>(btn)
expectType<GuildMember | null>(interaction.options.getMember('test'))
expectAssignable<ChatInputCommandInteraction>(interaction)
expectType<Promise<Message<true>>>(interaction.reply({ fetchReply: true }))
expectType<GuildBasedChannel>(interaction.options.getChannel('test', true))
expectType<Role>(interaction.options.getRole('test', true))
consumeCachedCommand(interaction)
expectType<ChatInputCommandInteraction>(interaction)
expectType<Promise<Message>>(interaction.reply({ fetchReply: true }))
expectType<APIInteractionDataResolvedGuildMember | GuildMember | null>(interaction.options.getMember('test'))
expectType<GuildBasedChannel | APIInteractionDataResolvedChannel>(interaction.options.getChannel('test', true))
expectType<APIRole | Role>(interaction.options.getRole('test', true))
expectType<ChatInputCommandInteraction>(interaction)
expectType<Omit<CommandInteractionOptionResolver<CacheType>, 'getFocused' | 'getMessage'>>(interaction.options)
expectType<readonly CommandInteractionOption[]>(interaction.options.data)
const optionalOption = interaction.options.get('name')
const requiredOption = interaction.options.get('name', true)
