async editMessage(message, options) {
    if (!this.token) throw new Error(ErrorCodes.WebhookTokenUnavailable);

    let messagePayload;

    if (options instanceof MessagePayload) messagePayload = options;
    else messagePayload = MessagePayload.create(this, options);

    const { body, files } = await messagePayload.resolveBody().resolveFiles();

    const d = await this.client.rest.patch(
      Routes.webhookMessage(this.id, this.token, typeof message === 'string' ? message : message.id),
      {
        body,
        files,
        query: messagePayload.options.threadId
          ? makeURLSearchParams({ thread_id: messagePayload.options.threadId })
          : undefined,
        auth: false,
      },
    );

    const channelManager = this.client.channels;
    if (!channelManager) return d;

    const messageManager = channelManager.cache.get(d.channel_id)?.messages;
    if (!messageManager) return new (getMessage())(this.client, d);

    const existing = messageManager.cache.g...
throw new Error(ErrorCodes.WebhookTokenUnavailable);
options instanceof MessagePayload
messagePayload = MessagePayload.create(this, options)
_tmp_32 = await messagePayload.resolveBody().resolveFiles()
const d = await this.client.rest.patch(
      Routes.webhookMessage(this.id, this.token, typeof message === 'string' ? message : message.id),
      {
        body,
        files,
        query: messagePayload.options.threadId
          ? makeURLSearchParams({ thread_id: messagePayload.options.threadId })
          : undefined,
        auth: false,
      },
    )
Routes.webhookMessage(this.id, this.token, typeof message === 'string' ? message : message.id)
_tmp_34.body = body
_tmp_34.files = files
_tmp_34.query = messagePayload.options.threadId ? makeURLSearchParams({ thread_id: messagePayload.options.threadId }) : undefined
makeURLSearchParams({ thread_id: messagePayload.options.threadId })
_tmp_34.auth = false
const channelManager = this.client.channels
!channelManager
const messageManager = channelManager.cache.get(d.channel_id)?.messages
new (getMessage())(this.client, d)
const existing = messageManager.cache.get(d.id)
